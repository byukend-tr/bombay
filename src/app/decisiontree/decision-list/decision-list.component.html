<div class="container-fluid">
  <div style="color:#365082">
    <h2>จัดการเงื่อนไขในการวิเคราะห์</h2>
  </div>
  <a routerLink="create" class="btn btn-sm btn-outline-primary">สร้างเงื่อนไขใหม่</a>
  <button (click)="trainNewModel($event)" class="btn btn-sm btn-outline-primary">สร้างโมเดลใหม่</button>
  <form class="form-control">

    <div class="row">
      <div class="col-5">

        การแปลผล : การตรวจหมู่เลือดเอบีโอ
        <select class="form-control form-control-sm">
          <option value="audi"></option>
          <option value="audi">ทั้งหมด</option>
          <option value="volvo">Group A</option>
          <option value="volvo">Group B</option>
          <option value="volvo">Group AB</option>
          <option value="volvo">Group O</option>
          <option value="volvo">Group O Bombay</option>
          <option value="volvo">Group A with unexpected alloantibody</option>
          <option value="volvo">Group B with unexpected alloantibody</option>
          <option value="volvo">Group AB with unexpected alloantibody</option>
          <option value="volvo">Group O with unexpected alloantibody</option>
        </select>


      </div>
      <!-- <div class="col-3">

        การแปลผล : การตรวจกรองแอนติบอดี
        <select class="form-control form-control-sm">
          <option value="audi"></option>
          <option value="audi">ทั้งหมด</option>
          <option value="volvo">Group A</option>
          <option value="volvo">Group B</option>
          <option value="volvo">Group AB</option>
          <option value="volvo">Group O</option>
          <option value="volvo">Group O Bombay</option>
          <option value="volvo">Group A with unexpected alloantibody</option>
          <option value="volvo">Group B with unexpected alloantibody</option>
          <option value="volvo">Group AB with unexpected alloantibody</option>
          <option value="volvo">Group O with unexpected alloantibody</option>
        </select>


      </div> -->
      <div class="col-5">

        การแปลผล : การตรวจน้ำลาย
        <select class="form-control form-control-sm">
          <option value="audi"></option>
          <option value="audi">ทั้งหมด</option>
          <option value="volvo">Group A</option>
          <option value="volvo">Group B</option>
          <option value="volvo">Group AB</option>
          <option value="volvo">Group O</option>
          <option value="volvo">Group O Bombay</option>
          <option value="volvo">Group A with unexpected alloantibody</option>
          <option value="volvo">Group B with unexpected alloantibody</option>
          <option value="volvo">Group AB with unexpected alloantibody</option>
          <option value="volvo">Group O with unexpected alloantibody</option>
        </select>


      </div>
      <div class="col-2">
        <br>
        <button type="submit" class="btn btn-sm btn-outline-primary" onclick="showTable();" href="#">ค้นหา</button>
      </div>

    </div>
  </form>
  <br>




  <!-- </form> -->
  <!-- <button type="button" class="btn btn-outline-danger">ลบ</button> -->
  <!-- <form (ngSubmit)="checkSelectForm(items)" [formGroup]="selectForm" #items="ngForm"> -->
  <table class="table table-sm table-striped table-bordered table-hover">
    <thead class="thead-table">
      <tr>
        <th border="1">
          <button type="button" class="btn btn-sm btn-primary" (click)="removeCondition()">ลบ</button>
        </th>
        <th colspan="6" border="1">การตรวจหมู่เลือดเอบีโอ</th>
        <th colspan="6" border="1">การตรวจน้ำลาย</th>
        <th rowspan="3" style="text-align:center; vertical-align:middle;">การแปลผล</th>
      </tr>
      <tr>
        <th rowspan="2" style="text-align:center; vertical-align:middle;">
          <label class="custom-control custom-checkbox">
            <input name="selectAll" type="checkbox" class="custom-control-input" (change)="selectAll($event)">
            <span class="custom-control-indicator"></span>
            <span class="custom-control-description"></span>
          </label>
        </th>
        <th colspan="3" border="1">Cell Grouping</th>
        <th colspan="3" border="1">Serum Grouping</th>
        <th colspan="3" border="1">Controls</th>
        <th colspan="3" border="1">Tests</th>

      </tr>
      <tr>


        <th>Anti-A</th>
        <th>Anti-B</th>
        <th>Anti-AB</th>

        <th>A cells</th>
        <th>B cells</th>
        <th>O cells</th>

        <!-- <th>การแปลผล</th> -->

        <th>Secretor</th>
        <th>Non-Secretor</th>
        <th>NSS</th>

        <th>Anti-A</th>
        <th>Anti-B</th>
        <th>Anti-H</th>

        <!-- <th>การแปลผล</th> -->

      </tr>
    </thead>

    <tbody>
      <!-- <form (ngSubmit)="validationForm(condition)" [formGroup]="conditionForm" #condition="ngForm"> -->

      <tr *ngFor="let condition of rule;">
        <td>

          <label class="custom-control custom-checkbox">
            <input name="checkbox" type="checkbox" class="custom-control-input" (change)="selectedUpdate(condition,$event)">
            <span class="custom-control-indicator"></span>
            <span class="custom-control-description"></span>

          </label>

        </td>

        <!-- <td>Neg</td>
        <td>Neg</td>
        <td>Neg</td>

        <td>4+</td>
        <td>4+</td>
        <td>4+</td> -->

        <!-- <td>Group O with unexpected alloantibody</td> -->

        <!-- <td>Neg</td>
        <td>2+</td>
        <td>2+</td>

        <td>Neg</td>
        <td>2+</td>
        <td>Neg</td>

        <td>Group O with unexpected alloantibody</td> -->
        <td>{{condition.AntiA}}</td>
        <td>{{condition.AntiB}}</td>
        <td>{{condition.AntiAB}}</td>

        <td>{{condition.Acell}}</td>
        <td>{{condition.Bcell}}</td>
        <td>{{condition.Ocell}}</td>

        <!-- <td>Group O with unexpected alloantibody</td> -->
        <td>
          <div *ngIf="condition.secretor; else showNull">
            {{condition.secretor}}
          </div>
        </td>
        <td>
          <div *ngIf="condition.nonSecretor; else showNull">
            {{condition.nonSecretor}}
          </div>
        </td>
        <td>
          <div *ngIf="condition.nss; else showNull">
            {{condition.nss}}
          </div>
        </td>

        <ng-template #showNull>
          -
        </ng-template>


        <td>{{condition.TestAntiA}}</td>
        <td>{{condition.TestAntiB}}</td>
        <td>{{condition.TestAntiH}}</td>

        <td>{{condition.result}}</td>
      </tr>
      <!-- </form> -->

    </tbody>
  </table>
  <!-- </form> -->

</div>

<!-- <script src="/js/Bootstrap/Select/bootstrap-select.js"></script> -->
<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
  crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
  crossorigin="anonymous"></script> -->

<!-- <router-outlet></router-outlet> -->